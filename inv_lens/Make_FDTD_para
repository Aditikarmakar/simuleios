BIN = fdtd
CXX = g++
CXXFLAGS = -std=c++11 -g -Wall -march=native -fopenmp

plot: clean_dat $(BIN)
	./$(BIN) > /dev/null
	gnuplot plotFDTD.gp -

build: $(BIN)

run: clean_dat $(BIN)
	./$(BIN) 

$(BIN): FDTD.cpp
	$(CXX) $(CXXFLAGS) FDTD.cpp -o $(BIN) 

clean_dat:
	rm -Rf FDTD_para.dat

clean: clean_dat
	rm -Rf $(BIN)
